/*! For license information please see commons-a46db7e1c851a69195b2.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[351],{676:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:()=>r})},6156:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r})},7329:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(676);var i=n(2961);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2961:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(676);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},4713:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7329),i=n(6156),o=n(1379);const a=[];function c(e,t=o.ZT){let n;const r=[];function i(t){if((0,o.N8)(e,t)&&(e=t,n)){const t=!a.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),a.push(n,e)}if(t){for(let e=0;e<a.length;e+=2)a[e][0](a[e+1]);a.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(a,c=o.ZT){const s=[a,c];return r.push(s),1===r.length&&(n=t(i)||o.ZT),a(e),()=>{const e=r.indexOf(s);-1!==e&&r.splice(e,1),0===r.length&&(n(),n=null)}}}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l=function(){var e=c({token:null,user:{},cart:{id:null,status:null,items:[],total:{}},favorites:[],isMediaPlaying:!1,articles:{reviews:{items:[],sorting:"-helpful,-created_at",page:1},comments:{items:[],sorting:"-helpful,-created_at",page:1}},productCart:{license:null,services:[],supports:[]}}),t=e.subscribe,n=e.update;return{subscribe:t,update:n,setToken:function(e){return n((function(t){return u(u({},t),{},{token:e})}))},setUser:function(e){return n((function(t){return u(u({},t),{},{user:e})}))},setCartData:function(e){return n((function(t){return u(u({},t),{},{cart:u(u({},t.cart),e)})}))},setIsMediaPlaying:function(e){return n((function(t){return u(u({},t),{},{isMediaPlaying:e})}))},setFavorites:function(e){return n((function(t){return u(u({},t),{},{favorites:(0,r.Z)(e)})}))},addToFavorites:function(e){return n((function(t){return u(u({},t),{},{favorites:[].concat((0,r.Z)(t.favorites),[e])})}))},removeFromFavorites:function(e){return n((function(t){return u(u({},t),{},{favorites:t.favorites.filter((function(t){return t.item_name!==e.item_name}))})}))},setArticlesSorting:function(e,t){return n((function(n){return u(u({},n),{},{articles:u(u({},n.articles),{},(0,i.Z)({},e,u(u({},n.articles[e]),{},{sorting:t})))})}))},setArticlesPage:function(e,t){return n((function(n){return u(u({},n),{},{articles:u(u({},n.articles),{},(0,i.Z)({},e,u(u({},n.articles[e]),{},{page:t})))})}))},setArticlesItems:function(e,t,o){return n((function(n){return u(u({},n),{},{articles:u(u({},n.articles),{},(0,i.Z)({},e,u(u({},n.articles[e]),{},{items:o?[].concat((0,r.Z)(n.articles[e].items),(0,r.Z)(t)):t})))})}))},setProductCartLicense:function(e){return n((function(t){return u(u({},t),{},{productCart:u(u({},t.productCart),{},{license:e})})}))},setProductCartServices:function(e){return n((function(t){return u(u({},t),{},{productCart:u(u({},t.productCart),{},{services:(0,r.Z)(e)})})}))},setProductCartSupports:function(e){return n((function(t){return u(u({},t),{},{productCart:u(u({},t.productCart),{},{supports:(0,r.Z)(e)})})}))}}}()},5980:(e,t,n)=>{"use strict";function r(e){window.dataLayer=window.dataLayer||[],window.dataLayer.push(e)}n.d(t,{y:()=>r})},5191:(e,t,n)=>{"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case"impressionSent":var n=function(e){var t=e.id,n=void 0===t?"":t,r=e.name,i=void 0===r?"":r,o=e.price,a=void 0===o?"":o,c=e.brand,s=void 0===c?"":c,u=e.category,l=void 0===u?"":u,v=e.variant,d=void 0===v?"":v,f=e.list,p=void 0===f?"":f,m=e.position;return{id:n,name:i,price:a,brand:s,category:l,variant:d,list:p,position:void 0===m?"":m}}(t);return{event:"impressionSent",ecommerce:{impressions:[n]}};case"productClick":var r=function(e){var t=e.id,n=void 0===t?"":t,r=e.name,i=void 0===r?"":r,o=e.price,a=void 0===o?"":o,c=e.brand,s=void 0===c?"":c,u=e.category,l=void 0===u?"":u,v=e.variant,d=void 0===v?"":v,f=e.position;return{id:n,name:i,price:a,brand:s,category:l,variant:d,position:void 0===f?1:f}}(t),i=t.list,o=void 0===i?"":i;return{event:"productClick",ecommerce:{click:{actionField:{list:o},products:[r]}}};case"useFilter":var a=t.filterName,c=t.filterValue;return{event:"useFilter",eventCategory:"Filters",eventAction:a,eventLabel:c};case"addToCart":var s=function(e){var t=e.id,n=void 0===t?"":t,r=e.name,i=void 0===r?"":r,o=e.price,a=void 0===o?"":o,c=e.brand,s=void 0===c?"":c,u=e.category,l=void 0===u?"":u,v=e.variant,d=void 0===v?"":v,f=e.licenseId,p=void 0===f?"":f,m=e.quantity,g=void 0===m?1:m;return{id:n,name:i,price:a,brand:s,category:l,variant:p?"".concat(d," + ").concat(p):"".concat(d),quantity:g}}(t);return{event:"addToCart",ecommerce:{add:{products:[s]}}};case"impressionSentOffer":return{event:"impressionSent",ecommerce:{impressions:t}};case"addtoCollection":var u=t.eventAction,l=void 0===u?"":u,v=t.eventLabel,d=void 0===v?"":v;return{event:"addtoCollection",eventCategory:"Add_to_collection",eventAction:l,eventLabel:d};case"motoTrial":var f=t.eventLabel,p=void 0===f?"Submit":f;return{event:"Moto Trial",eventCategory:"Moto Trial",eventAction:"Get trial",eventLabel:p};case"formSent":var m=t.eventAction,g=t.eventLabel,h=void 0===g?"Submit":g;return{event:"Forms_send",eventCategory:"Forms",eventAction:m,eventLabel:h};case"menu":var b=t.eventAction,y=void 0===b?"Main button - header":b,w=t.eventLabel,_=void 0===w?"Open menu":w;return{event:"newmenu",eventCategory:"New menu",eventAction:y,eventLabel:_};case"promotionView":var C=function(e){var t=e.id,n=void 0===t?"":t,r=e.name,i=void 0===r?"":r,o=e.creative,a=void 0===o?"":o,c=e.position;return{id:n,name:i,creative:a,position:void 0===c?1:c}}(t);return{event:"promotionView",ecommerce:{promoView:{promotions:[C]}}};case"promotionClick":var Z=function(e){var t=e.id,n=void 0===t?"":t,r=e.name,i=void 0===r?"":r,o=e.creative,a=void 0===o?"":o,c=e.position;return{id:n,name:i,creative:a,position:void 0===c?1:c}}(t);return{event:"promotionClick",ecommerce:{promoClick:{promotions:[Z]}}};case"chatuser":var k=t.name,L=void 0===k?"":k,j=t.chatroom,O=void 0===j?"assistance":j,S=t.email,A=void 0===S?"":S;return{event:"chatuser",userdata:[{chatname:L,chatroom:O,chatemail:A}]};case"sorting":var T=t.currentSorting,F=void 0===T?"":T,P=t.newSorting,D=void 0===P?"":P;return{event:"sorting",eventCategory:"Use sorting",eventAction:"New - ".concat(D),eventLabel:"Old - ".concat(F)};case"trackEvent":var x=t.eventCategory,U=void 0===x?"Cart pop-up":x,$=t.eventAction,E=void 0===$?"":$,N=t.eventLabel,I=void 0===N?"":N;return{event:"trackEvent",eventCategory:U,eventAction:E,eventLabel:I};default:console.warn("Broken event name ".concat(e))}}n.d(t,{c:()=>r})},4522:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={apiUrls:window.__app__.js.api,pageType:window.__app__.analytics.pageType,locale:window.__app__.language,apiLocale:window.__app__.apiLocale,domain:window.__app__.js.domain,liveDemoDomain:window.__app__.js.liveDemoDomain,cookieDomain:window.__app__.js.cookieDomain,fontPreviewDomain:window.__app__.js.fontPreviewDomain,reviveConfig:window.__app__.js.revive}},9579:(e,t,n)=>{"use strict";n.d(t,{Y:()=>u,X:()=>l});var r=n(6808),i=n.n(r),o=n(4522),a=n(3081),c=n(4713);function s(){var e,t=l();c.Z.subscribe((function(t){e=t.token})),fetch((0,a.CN)("".concat(o.Z.apiUrls.collection,"/v2/collections/my"),{expand:"items",name:"Favorites"}),{headers:{Authorization:e}}).then((function(e){return e.json()})).then((function(e){if(e&&e[0]&&e[0].items){var n=e[0].id;n!==t&&(u(n),t&&function(e,t){var n;c.Z.subscribe((function(e){n=e.token})),fetch("".concat(o.Z.apiUrls.collection,"/v2/collections/merge/").concat(t),{method:"PUT",headers:{"Content-type":"application/json",Authorization:n},body:JSON.stringify({id:e})}).then((function(e){if(!e.ok)throw new Error("Broken response");s()})).catch((function(e){return console.log(e)}))}(t,n)),c.Z.setFavorites(e[0].items)}})).catch((function(e){return console.log(e)}))}function u(e){var t="favorites";i().set(t,e),o.Z.liveDemoDomain.includes(window.location.hostname)?(0,a.Gq)(t,e):(0,a.uV)(t,e)}function l(){return i().get("favorites")}(0,a.Fi)((function(){var e;c.Z.subscribe((function(t){e=t.token}));var t=l();(e||t)&&(!e&&t?function(){var e=l();fetch((0,a.CN)("".concat(o.Z.apiUrls.collection,"/v2/collections"),{expand:"items","ids[]":e})).then((function(e){return e.json()})).then((function(e){e&&e[0]&&e[0].items&&c.Z.setFavorites(e[0].items)})).catch((function(e){return console.log(e)}))}():s())}))},3048:(e,t,n)=>{"use strict";var r=n(5980),i=n(5191);(0,n(3081).Fi)((function(){Object.defineProperty(window,"LiveChatWidget",{configurable:!0,get:function(){return this._LiveChatWidget},set:function(e){this._LiveChatWidget=e,window.LiveChatWidget.on("form_submitted",(function(e){if("prechat"===e.type){var t=window.LiveChatWidget.get("customer_data");(0,r.y)((0,i.c)("chatuser",t))}}))}})}))},6808:(e,t,n)=>{var r,i;!function(o){if(void 0===(i="function"==typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=o(),!!0){var a=window.Cookies,c=window.Cookies=o();c.noConflict=function(){return window.Cookies=a,c}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var s in o)o[s]&&(c+="; "+s,!0!==o[s]&&(c+="="+o[s].split(";")[0]));return document.cookie=t+"="+n+c}}function a(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var c=o[a].split("="),s=c.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var u=t(c[0]);if(s=(r.read||r)(s,u)||t(s),n)try{s=JSON.parse(s)}catch(e){}if(i[u]=s,e===u)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}))},140:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(1379),i=n(9115),o=n.n(i),a=n(8115),c=n.n(a),s=n(5980),u=n(5191),l=n(4713),v=n(4522),d=n(9579);function f(e){let t,n,i,a,s,u,l,v,d,f,p=(e[2]?e[4]?e[3]:e[2]:"")+"";return{c(){t=(0,r.bG)("button"),n=(0,r.bi)("svg"),i=(0,r.bi)("use"),s=(0,r.Dh)(),u=(0,r.fL)(p),(0,r.G_)(i,"xlink:href",a=e[4]?c():o()),(0,r.Lj)(n,"class","product-set-favorite-icon btn-icon"),(0,r.Lj)(t,"type","button"),(0,r.Lj)(t,"class",l="product-set-favorite btn "+(e[4]?"product-set-favorite_active":"")+" "+(e[2]?"product-share-button_wide btn_3":"btn_icon")),(0,r.Lj)(t,"title",v=e[4]?e[1]:e[0])},m(o,a){(0,r.$T)(o,t,a),(0,r.R3)(t,n),(0,r.R3)(n,i),(0,r.R3)(t,s),(0,r.R3)(t,u),d||(f=(0,r.oL)(t,"click",(0,r.AT)(e[5])),d=!0)},p(e,[n]){16&n&&a!==(a=e[4]?c():o())&&(0,r.G_)(i,"xlink:href",a),28&n&&p!==(p=(e[2]?e[4]?e[3]:e[2]:"")+"")&&(0,r.rT)(u,p),20&n&&l!==(l="product-set-favorite btn "+(e[4]?"product-set-favorite_active":"")+" "+(e[2]?"product-share-button_wide btn_3":"btn_icon"))&&(0,r.Lj)(t,"class",l),19&n&&v!==(v=e[4]?e[1]:e[0])&&(0,r.Lj)(t,"title",v)},i:r.ZT,o:r.ZT,d(e){e&&(0,r.og)(t),d=!1,f()}}}function p(e,t,n){let i,o,a;(0,r.FI)(e,l.Z,(e=>n(7,a=e)));let{template:c}=t,{title:f=""}=t,{activeTitle:p=""}=t,{label:m=""}=t,{activeLabel:g=""}=t;return e.$$set=e=>{"template"in e&&n(6,c=e.template),"title"in e&&n(0,f=e.title),"activeTitle"in e&&n(1,p=e.activeTitle),"label"in e&&n(2,m=e.label),"activeLabel"in e&&n(3,g=e.activeLabel)},e.$$.update=()=>{192&e.$$.dirty&&n(4,i=a.favorites.some((e=>e.item_name===c))),192&e.$$.dirty&&(o=a.favorites.find((e=>e.item_name===c)))},[f,p,m,g,i,async function(){if(i)return fetch(`${v.Z.apiUrls.collection}/v2/items/${a.favorites.find((e=>e.item_name===c)).id||null}`,{method:"DELETE",headers:{Authorization:a.token}}).then((e=>{e.ok&&l.Z.removeFromFavorites(o)})).catch((e=>console.log(e)));const e=await new Promise(((e,t)=>{let n=(0,d.X)();if(n)return e(n);fetch(`${v.Z.apiUrls.collection}/v2/collections`,{method:"POST",headers:{"Content-type":"application/json",Authorization:a.token},body:JSON.stringify({name:"Favorites"})}).then((e=>e.json())).then((n=>n.id?((0,d.Y)(n.id),e(n.id)):t(null))).catch((()=>t(null)))}));if(!e)return console.log("error");fetch(`${v.Z.apiUrls.collection}/v2/items`,{method:"POST",headers:{"Content-type":"application/json",Authorization:a.token},body:JSON.stringify({collection_id:e,item_name:c})}).then((e=>{if(e.ok)return e.json();throw new Error("Broken response")})).then((e=>{l.Z.addToFavorites(e),(0,s.y)((0,u.c)("addtoCollection",{eventAction:v.Z.pageType,eventLabel:c}))})).catch((e=>console.log(e)))},c,a]}class m extends r.f_{constructor(e){super(),(0,r.S1)(this,e,p,f,r.N8,{template:6,title:0,activeTitle:1,label:2,activeLabel:3})}}const g=m},9115:(e,t,n)=>{e.exports={id:"heart-usage",viewBox:"0 0 20 20",url:n.p+"images/sprite-svg-544738ed208064f245036e01684d85af.svg#heart-usage",toString:function(){return this.url}}},8115:(e,t,n)=>{e.exports={id:"heartFilled-usage",viewBox:"0 0 20 18",url:n.p+"images/sprite-svg-544738ed208064f245036e01684d85af.svg#heartFilled-usage",toString:function(){return this.url}}}}]);